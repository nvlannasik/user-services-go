name: Trigger Pipeline

on:
  push:
    branches:
      - dev
      - staging
    tags:
      - "release-*"
  workflow_dispatch:
    # inputs:
    #   dockerfile_name:
    #     description: 'Name of the Dockerfile (e.g., go.Dockerfile, node.Dockerfile)'
    #     required: true
    #     default: 'go.Dockerfile'

env:
  DOCKERFILE_NAME: "go.Dockerfile"

jobs:
  dev:
    if: github.ref == 'refs/heads/dev'
    uses: nvlannasik/github-action-manifest/.github/workflows/dev-cicd.yml@master

  staging:
    if: github.ref == 'refs/heads/staging'
    uses: nvlannasik/github-action-manifest/.github/workflows/staging-cicd.yml@master
